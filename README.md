# KAKAOPAY 사전과제

**개발환경**
- Backend
    - JAVA 8
    - Spring Boot 1.5.14
    - JPA
    - gradle
- Frontend

**Build**

**Excute**

**API Document**

**Usage**

## 1. 요구사항
#### 1. 1. TODO List 
```
1. TODO 추가시 다른 TODO를 참조로 걸 수 있다.
2. 참조는 다른 TODO의 ID를 명시하는 형태로 표현한다.
3. 사용자는 TODO를 수정할 수 있어야 한다.
  3.1 TODO의 내용을 수정할 수 있어야 한다(당연함).
  3.2 TODO의 참조를 변경할 수 있어야 한다.
    3.2.1 TODO의 참조를 끊을 수 있어야 한다.
    3.2.2 TODO의 참조를 다른 TODO로 변경 가능해야 한다.    
4. 사용자는 TODO를 완료처리 할 수 있다. 다만, 참조가 걸린 TODO가 완료되지 않았다면 완료처리가 불가능하다.
```
## 2. 접근방법
#### 2. 1. TODO List
```
1. 요구사항을 만족하려면 Tree형태로 TODO를 구성해야 한다.
2. DB로 Tree 구조를 나타내려면 다음과 같은 방법이 있다.
  2.1 인접목록 -> 한번에 자손을 불러올 수 있는 방법이 없음. 
    2.1.1 CTE (Common Table Expression) -> DBMS마다 지원여부가 다르며 같은 종류의 DBMS라도 Version마다 지원여부가 다르다.
  2.2 경로 열거 -> Node의 위상이 변해야 하는 경우 대응이 어렵다. (예전에 고생했던 기억이 있음...)
  2.3 중첩 집합 -> Node의 이동이나 추가가 빈번할 경우 복잡한 계산을 거쳐야 한다.
  2.4 클로저 테이블 -> Node를 저장하는 Table과 조상&자손 관계를 저장하는 테이블을 추가로 생성. Tree 계층 구조의 표현도 간단하며 조작도 간단한 편.
3. 요구사항에 명시된 TODO의 수정 기능은 단순히 내용의 수정만이 아닌 TODO의 참조를 변경할 수 있는 기능으로 판단
  3.1 사용하려는 DBMS가 CTE를 지원하고 추후 변경여지가 없다면 인접목록으로 설계하고 CTE를 사용하는 것이 가장 쉽고 빠름. 
      하지만, DBMS에 종속적인 query를 작성해야 하고 Oracle의 경우 version별로 다른 query를 만들어야 함. 유연하지 못해서 일단 제외.
  3.2 Table을 하나 더 생성해야 하는 단점이 있지만 연산이 비교적 단순하며 변경에 수월하게 대처할 수 있는 클로저 테이블이 적합한 모델이라고 판단.
```
#### 2. 2. Closer Table
```
집안일
|-----빨래
|-----청소
|       |-----방청소
```
| ID     |    TODO  |
|--------|----------|
| 1      | 집안일   | 
| 2      | 빨래     |
| 3      | 청소     |
| 4      | 방청소   |
----

| Ancestor | Descendant |
|----------|------------|
|     1    |     1      |
|     1    |     2      |
|     1    |     3      |
|     1    |     4      |
|     2    |     2      |
|     3    |     3      |
|     3    |     4      |
|     4    |     4      |
----
